@model List<HotelReservationApp.Models.User>
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Manage Users";
    
}
<div class="container py-4">
    <div class="d-flex justify-content-between mb-3">
        <h2>Users</h2>
        <button class="btn btn-primary" onclick="showUserModal()">Add User</button>
    </div>
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var user in Model)
        {
            <tr>
                <td>@user.UserID</td>
                <td>@user.FullName</td>
                <td>@user.Email</td>
                <td>@user.RoleID</td>
                <td>
                    <button class="btn btn-sm btn-warning" onclick="editUser(@user.UserID)">Edit</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteUser(@user.UserID)">Delete</button>
                </td>
            </tr>
        }
        </tbody>
    </table>
    <div id="userModalContainer"></div>
</div>
<script>
    function showUserModal() {
        $.get('/Admin/AddUserForm', function (data) {
            $('#userModalContainer').html(data);
        });
    }
    function editUser(id) {
        $.get('/Admin/EditUserForm/' + id, function (data) {
            $('#userModalContainer').html(data);
        });
    }
    function deleteUser(id) {
        if (confirm('Are you sure to delete this user?')) {
            $.post('/Admin/DeleteUser/' + id, function () {
                location.reload();
            });
        }
    }
</script>